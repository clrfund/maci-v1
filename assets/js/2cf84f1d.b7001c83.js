"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9772],{7782:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});var i=s(5893),r=s(1151);const l={title:"Release process",description:"How MACI's release process works",sidebar_label:"MACI Release process",sidebar_position:13},c="Maci Release Process",t={id:"release",title:"Release process",description:"How MACI's release process works",source:"@site/versioned_docs/version-v1.x/release.md",sourceDirName:".",slug:"/release",permalink:"/docs/release",draft:!1,unlisted:!1,editUrl:"https://github.com/privacy-scaling-explorations/maci/edit/dev/website/versioned_docs/version-v1.x/release.md",tags:[],version:"v1.x",sidebarPosition:13,frontMatter:{title:"Release process",description:"How MACI's release process works",sidebar_label:"MACI Release process",sidebar_position:13},sidebar:"version-1.x/mySidebar",previous:{title:"CI",permalink:"/docs/ci-pipeline"},next:{title:"Troubleshooting",permalink:"/docs/troubleshooting"}},o={},a=[];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"maci-release-process",children:"Maci Release Process"}),"\n",(0,i.jsx)(n.p,{children:"To release a new version of maci v1, the following steps can be taken:"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"you have to replace version number 1.2.3 with the version number you are planning to release"}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Verify that tests have passed on GitHub Actions"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Clone maci:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"git clone https://github.com/privacy-scaling-explorations/maci\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Switch to the ",(0,i.jsx)(n.code,{children:"master"})," branch:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"git checkout master\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Install required dependencies:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npm install\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"lerna version"})," to update CHANGELOG and version numbers of sub-packages:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npx lerna version --no-push --no-git-tag-version --conventional-commits 1.2.3\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsx)(n.li,{children:"Commit changes:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'git commit --message "chore(release): publish 1.2.3"\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"7",children:["\n",(0,i.jsx)(n.li,{children:"Push changes and create a pull request"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"After the pull request has been merged:"}),"\n",(0,i.jsxs)(n.ol,{start:"8",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Retrieve merged commit"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Add a tag:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"git tag --sign v1.2.3 --message v1.2.3\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"10",children:["\n",(0,i.jsx)(n.li,{children:"Publish tag:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"git push v1.2.3\n"})}),"\n",(0,i.jsx)(n.p,{children:"Once the tag is pushed, GitHub Actions will automatically publish the packages to npm.js and create a release on GitHub."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"The following packages will be published on npm.js:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"maci-circuits"}),"\n",(0,i.jsx)(n.li,{children:"maci-cli"}),"\n",(0,i.jsx)(n.li,{children:"maci-common"}),"\n",(0,i.jsx)(n.li,{children:"maci-contracts"}),"\n",(0,i.jsx)(n.li,{children:"maci-core"}),"\n",(0,i.jsx)(n.li,{children:"maci-crypto"}),"\n",(0,i.jsx)(n.li,{children:"maci-domainobjs"}),"\n",(0,i.jsx)(n.li,{children:"maci-integrationtests"}),"\n",(0,i.jsx)(n.li,{children:"maci-server"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>t,a:()=>c});var i=s(7294);const r={},l=i.createContext(r);function c(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);