<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v1.x docs-doc-page docs-doc-id-cli" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">MACI Command-line interface (CLI) | MACI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://maci.pse.dev/img/maci.jpeg"><meta data-rh="true" name="twitter:image" content="https://maci.pse.dev/img/maci.jpeg"><meta data-rh="true" property="og:url" content="https://maci.pse.dev/docs/cli"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v1.x"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.x"><meta data-rh="true" name="docsearch:version" content="v1.x"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.x"><meta data-rh="true" property="og:title" content="MACI Command-line interface (CLI) | MACI"><meta data-rh="true" name="description" content="Introduction to the MACI CLI interface that allows for effective deployment and testing"><meta data-rh="true" property="og:description" content="Introduction to the MACI CLI interface that allows for effective deployment and testing"><link data-rh="true" rel="icon" href="/img/maci-logo-2.png"><link data-rh="true" rel="canonical" href="https://maci.pse.dev/docs/cli"><link data-rh="true" rel="alternate" href="https://maci.pse.dev/docs/cli" hreflang="en"><link data-rh="true" rel="alternate" href="https://maci.pse.dev/docs/cli" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="MACI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="MACI Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.08505319.css">
<script src="/assets/js/runtime~main.d81f0457.js" defer="defer"></script>
<script src="/assets/js/main.b2912bbd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">MACI</b></a><a class="navbar__item navbar__link" href="/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/typedoc">Typedoc</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/introduction">v1.x</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/cli">v1.x</a></li><li><a class="dropdown__link" href="/docs/v0.x/introduction">v0.x</a></li></ul></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/privacy-scaling-explorations/maci" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/primitives">Primitives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/cli">Command-line interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contracts">Smart Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/circuits">Circuits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/trusted-setup">Trusted Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/integrating">Integrating</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/audit">Security Assessments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ci-pipeline">CI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release">MACI Release process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Command-line interface</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.x</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Command-line interface</h1>
<p>MACI provides a command-line interface that allows for effective deployment and
testing. Applications that build on top of MACI, such as
<a href="https://clr.fund/" target="_blank" rel="noopener noreferrer">clr.fund</a>, implement their own web UIs.</p>
<p>Note that all the example commands default to a local Ethereum testnet at
<code>http://localhost:8545</code>, and use the Ethereum private key
<code>0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3</code>. Do not
send any real funds to the address generated by this key.</p>
<p>For testing purposes, you can run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># in maci/contracts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run hardhat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Note that you will need a hardhat.config file in your current directory to be able to run the cli.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="subcommands">Subcommands<a href="#subcommands" class="hash-link" aria-label="Direct link to Subcommands" title="Direct link to Subcommands">​</a></h2>
<table><thead><tr><th>Command</th><th>Description</th><th>Options</th></tr></thead><tbody><tr><td><code>create</code></td><td>Deploy the contracts</td><td><code>-v, --vkRegistryAddress &lt;vkRegistryAddress&gt;</code>: The vk registry contract address <br> <code>-i, --initialVoiceCredits &lt;initialVoiceCredits&gt;</code>: The initial voice credits <br> <code>-p, --initialVoiceCreditsProxyAddress &lt;initialVoiceCreditsProxyAddress&gt;</code>: The initial voice credits proxy contract address <br> <code>-g, --signupGatekeeperAddress &lt;signupGatekeeperAddress&gt;</code>: The signup gatekeeper contract address <br> <code>-q, --quiet</code>: Whether to print values to the console <br> <code>-s, --stateTreeDepth &lt;stateTreeDepth&gt;</code>: The state tree depth</td></tr><tr><td><code>checkVerifyingKeys</code></td><td>Check that the verifying keys in the contract match the local ones</td><td><code>-q, --quiet</code>: Whether to print values to the console <br> <code>-x, --maci-contract &lt;maciContract&gt;</code>: The MACI contract address <br> <code>-s, --state-tree-depth &lt;stateTreeDepth&gt;</code>: The state tree depth <br> <code>-i, --int-state-tree-depth &lt;intStateTreeDepth&gt;</code>: The intermediate state tree depth <br> <code>-m, --msg-tree-depth &lt;messageTreeDepth&gt;</code>: The message tree depth <br> <code>-v, --vote-option-tree-depth &lt;voteOptionTreeDepth&gt;</code>: The vote option tree depth <br> <code>-b, --msg-batch-depth &lt;messageBatchDepth&gt;</code>: The message batch depth <br> <code>-p, --process-messages-zkey &lt;processMessagesZkeyPath&gt;</code>: The process messages zkey path <br> <code>-t, --tally-votes-zkey &lt;tallyVotesZkeyPath&gt;</code>: The tally votes zkey path</td></tr><tr><td><code>genMaciPubKey</code></td><td>Generate a new MACI public key</td><td><code>-sk, --privkey &lt;privkey&gt;</code>: The private key</td></tr><tr><td><code>genMaciKeyPair</code></td><td>Generate a new MACI key pair</td><td>No options</td></tr><tr><td><code>airdrop</code></td><td>Airdrop topup credits to the coordinator</td><td><code>-a, --amount &lt;amount&gt;</code>: The amount of topup <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-o, --poll-id &lt;pollId&gt;</code>: Poll id <br> <code>-t, --token-address &lt;tokenAddress&gt;</code>: The token address <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td><code>deployVkRegistry</code></td><td>Deploy a new verification key registry contract</td><td><code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td><code>show</code></td><td>Show the deployed contract addresses</td><td>No options</td></tr><tr><td><code>deployPoll</code></td><td>Deploy a new poll</td><td><code>-t, --duration &lt;pollDuration&gt;</code>: The poll duration <br> <code>-g, --max-messages &lt;maxMessages&gt;</code>: The max messages <br> <code>-mv, --max-vote-options &lt;maxVoteOptions&gt;</code>: The max vote options <br> <code>-i, --int-state-tree-depth &lt;intStateTreeDepth&gt;</code>: The int state tree depth <br> <code>-b, --msg-batch-depth &lt;messageTreeSubDepth&gt;</code>: The message tree sub depth <br> <code>-m, --msg-tree-depth &lt;messageTreeDepth&gt;</code>: The message tree depth <br> <code>-v, --vote-option-tree-depth &lt;voteOptionTreeDepth&gt;</code>: The vote option tree depth <br> <code>-pk, --pubkey &lt;coordinatorPubkey&gt;</code>: The coordinator public key <br> <code>-x, --maci-address &lt;maciAddress&gt;</code>: The MACI contract address <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td><code>setVerifyingKeys</code></td><td>Set the verifying keys</td><td><code>-s, --state-tree-depth &lt;stateTreeDepth&gt;</code>: The state tree depth <br> <code>-i, --int-state-tree-depth &lt;intStateTreeDepth&gt;</code>: The intermediate state tree depth <br> <code>-m, --msg-tree-depth &lt;messageTreeDepth&gt;</code>: The message tree depth <br> <code>-v, --vote-option-tree-depth &lt;voteOptionTreeDepth&gt;</code>: The vote option tree depth <br> <code>-b, --msg-batch-depth &lt;messageBatchDepth&gt;</code>: The message batch depth <br> <code>-p, --process-messages-zkey &lt;processMessagesZkeyPath&gt;</code>: The process messages zkey path <br> <code>-t, --tally-votes-zkey &lt;tallyVotesZkeyPath&gt;</code>: The tally votes zkey path <br> <code>-k, --vk-registry &lt;vkRegistry&gt;</code>: The vk registry contract address <br> <code>-q, --quiet</code>: Whether to print values to the console <br> <code>-ss, --subsidy-zkey &lt;subsidyZkeyPath&gt;</code>: The subsidy zkey path</td></tr><tr><td><code>publish</code></td><td>Publish a new message to a MACI Poll contract</td><td><code>-p, --pubkey &lt;pubkey&gt;</code>: The MACI public key which should replace the user&#x27;s public key in the state tree <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-sk, --privkey &lt;privkey&gt;</code>: Your serialized MACI private key <br> <code>-i, --state-index &lt;stateIndex&gt;</code>: The user&#x27;s state index <br> <code>-v, --vote-option-index &lt;voteOptionIndex&gt;</code>: The vote option index <br> <code>-n, --nonce &lt;nonce&gt;</code>: The message nonce <br> <code>-s, --salt &lt;salt&gt;</code>: The message salt <br> <code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-w, --new-vote-weight &lt;newVoteWeight&gt;</code>: The new vote weight <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>mergeMessages</td><td>Merge the message accumulator queue</td><td><code>-q, --quiet</code>: Whether to print values to the console <br> <code>-x, --maci-contract-address &lt;maciContractAddress&gt;</code>: The MACI contract address <br> <code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-n, --num-queue-ops &lt;numQueueOps&gt;</code>: The number of queue operations</td></tr><tr><td>mergeSignups</td><td>Merge the signups accumulator queue</td><td><code>-q, --quiet</code>: Whether to print values to the console <br> <code>-x, --maci-contract-address &lt;maciContractAddress&gt;</code>: The MACI contract address <br> <code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-n, --num-queue-ops &lt;numQueueOps&gt;</code>: The number of queue operations</td></tr><tr><td>timeTravel</td><td>Fast-forward the time (only works for local hardhat testing)</td><td><code>-s, --seconds &lt;seconds&gt;</code>: The number of seconds to fast-forward <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>signup</td><td>Sign up to a MACI contract</td><td><code>-p, --pubkey &lt;maciPubKey&gt;</code>: The MACI public key <br> <code>-x, --maci-address &lt;maciAddress&gt;</code>: The MACI contract address <br> <code>-s, --sg-data &lt;sgData&gt;</code>: The signup gateway data <br> <code>-i, --ivcp-data &lt;ivcpData&gt;</code>: The initial voice credit proxy data <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>topup</td><td>Top up an account with voice credits</td><td><code>-a, --amount &lt;amount&gt;</code>: The amount of topup <br> <code>-x, --maci-address &lt;maciAddress&gt;</code>: The MACI contract address <br> <code>-i, --state-index &lt;stateIndex&gt;</code>: State leaf index <br> <code>-o, --poll-id &lt;pollId&gt;</code>: Poll id <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>fundWallet</td><td>Fund a wallet with Ether</td><td><code>-a, --amount &lt;amount&gt;</code>: The amount of Ether <br> <code>-w, --address &lt;address&gt;</code>: The address to fund <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>verify</td><td>Verify the results of a poll and optionally the subsidy results</td><td><code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-t, --tally-file &lt;tallyFile&gt;</code>: The tally file <br> <code>-s, --subsidy-file &lt;subsidyFile&gt;</code>: The subsidy file <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-tc, --tally-contract &lt;tallyContract&gt;</code>: The tally contract address <br> <code>-sc, --subsidy-contract &lt;subsidyContract&gt;</code>: The subsidy contract address <br> <code>-q, --quiet</code>: Whether to print values to the console</td></tr><tr><td>genProofs</td><td>Generate the proofs for a poll</td><td><code>-sk, --privkey &lt;privkey&gt;</code>: Your serialized MACI private key <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-t, --tally-file &lt;tallyFile&gt;</code>: The tally file <br> <code>-s, --subsidy-file &lt;subsidyFile&gt;</code>: The subsidy file <br> <code>-r, --rapidsnark &lt;rapidsnark&gt;</code>: The path to the rapidsnark binary <br> <code>-wp, --process-witnessgen &lt;processWitnessgen&gt;</code>: The path to the process witness generation binary <br> <code>-wt, --tally-witnessgen &lt;tallyWitnessgen&gt;</code>: The path to the tally witness generation binary <br> <code>-ws, --subsidy-witnessgen &lt;subsidyWitnessgen&gt;</code>: The path to the subsidy witness generation binary <br> <code>-zp, --process-zkey &lt;processZkey</code>: The path to the process zkey <br> <code>-zt, --tally-zkey &lt;tallyZkey&gt;</code>: The path to the tally zkey <br> <code>-zs, --subsidy-zkey &lt;subsidyZkey&gt;</code>: The path to the subsidy zkey <br> <code>-q, --quiet</code>: Whether to print values to the console <br> <code>-f, --output &lt;outputDir&gt;</code>: The output directory for proofs <br> <code>-tx, --transaction-hash &lt;transactionHash&gt;:</code> Transaction hash of MACI contract creation <br> <code>-w, --wasm</code>: Whether to use the wasm binaries <br> <code>-pw, --process-wasm &lt;processWasm&gt;</code>: The path to the process witness generation wasm binary <br> <code>-tw, --tally-wasm &lt;tallyWasm&gt;</code>: The path to the tally witness generation wasm binary <br> <code>-sw, --subsidy-wasm &lt;subsidyWasm&gt;</code>: The path to the subsidy witness generation wasm binary</td></tr><tr><td>proveOnChain</td><td>Prove the results of a poll on chain</td><td><code>-o, --poll-id &lt;pollId&gt;</code>: The poll id <br> <code>-q, --quiet</code>: Whether to print values to the console <br> <code>-x, --contract &lt;contract&gt;</code>: The MACI contract address <br> <code>-p, --message-processor-address &lt;messageProcessorAddress&gt;</code>: The message processor contract address <br> <code>-t, --tally-contract &lt;tallyContract&gt;</code>: The tally contract address <br> <code>-s, --subsidy-contract &lt;subsidyContract&gt;</code>: The subsidy contract address <br> <code>-f, --proof-dir &lt;proofDir&gt;</code>: The proof output directory from the genProofs subcommand</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="public-and-private-key-format">Public and private key format<a href="#public-and-private-key-format" class="hash-link" aria-label="Direct link to Public and private key format" title="Direct link to Public and private key format">​</a></h2>
<p>MACI uses private keys in the BabyJub field for operations which occur within
zk-SNARKs, such as decrypting messages or signing commands. As MACI is deployed
on Ethereum, we seek to avoid confusing BabyJub private keys with Ethereum
private keys. To that end, users should pass serialized formats of public and
private keys to this CLI. We use <code>maci-domainobj</code>&#x27;s <code>PrivKey.serialize</code> and
<code>PubKey.serialize</code> functions to do so.</p>
<p>Examples of serialized public and private keys:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Private key: macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Public key:  macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-deploy-vkregistry">Coordinator: Deploy VkRegistry<a href="#coordinator-deploy-vkregistry" class="hash-link" aria-label="Direct link to Coordinator: Deploy VkRegistry" title="Direct link to Coordinator: Deploy VkRegistry">​</a></h3>
<p>This command deploys an instance of a VkRegistry contract. Multiple MACI
contracts can refer to the same VkRegistry as long as they are all owned (via
<code>Ownable.sol</code>) by the same account.</p>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ETH_SK=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETH_PROVIDER=http://localhost:8545 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js deployVkRegistry</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">VkRegistry: 0x8CdaF0CD259887258Bc13a92C0a6dA92698644C0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-set-verifying-keys">Coordinator: Set verifying keys<a href="#coordinator-set-verifying-keys" class="hash-link" aria-label="Direct link to Coordinator: Set verifying keys" title="Direct link to Coordinator: Set verifying keys">​</a></h3>
<p>Note that the filename of the <code>.zkey</code> files must follow this format:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ProcessMessages_&lt;STATE_TREE_DEPTH&gt;-&lt;MSG_TREE_DEPTH&gt;-&lt;MSG_SUBTREE_DEPTH&gt;-&lt;VOTE_OPTION_TREE_DEPTH&gt;_test.&lt;CONTRIBUTION_NUM&gt;.zkey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TallyVotes_&lt;STATE_TREE_DEPTH&gt;-&lt;INT_STATE_TREE_DEPTH&gt;-&lt;VOTE_OPTION_TREE_DEPTH&gt;&gt;_test.&lt;CONTRIBUTION_NUM&gt;&gt;.zkey</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ETH_SK=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETH_PROVIDER=http://localhost:8545 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js setVerifyingKeys \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -s 10 -i 1 -m 2 -v 2 -b 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t ./zkeys/TallyVotes_10-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -k 0x8CdaF0CD259887258Bc13a92C0a6dA92698644C0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Generating ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey.vk.json, please wait...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generating ./zkeys/TallyVotes_10-1-2_test.0.zkey.vk.json, please wait...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0x582631c36a4e21e0b65c3f9100c6343408c8683a36ded36fc02a9be07fa079e8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-create-maci-instance">Coordinator: Create MACI instance<a href="#coordinator-create-maci-instance" class="hash-link" aria-label="Direct link to Coordinator: Create MACI instance" title="Direct link to Coordinator: Create MACI instance">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ETH_SK=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETH_PROVIDER=http://localhost:8545 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js create -r 0x8CdaF0CD259887258Bc13a92C0a6dA92698644C0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Deploying InitialVoiceCreditProxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploying Poseidon contracts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linking Poseidon libraries to MACI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linking Poseidon libraries to PollFactory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linking Poseidon libraries to MessageAqFactory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploying MACI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transferring PollFactory ownership to MACI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transferring MessageAqFactory ownership to PollFactory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Initialising MACI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MACI: 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-deploy-poll">Coordinator: Deploy poll<a href="#coordinator-deploy-poll" class="hash-link" aria-label="Direct link to Coordinator: Deploy poll" title="Direct link to Coordinator: Deploy poll">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ETH_SK=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETH_PROVIDER=http://localhost:8545 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node ./build/index.js deployPoll \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -x 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -pk macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t 30 -g 25 -mv 25 -i 1 -m 2 -b 1 -v 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Verifier: 0x5E70a420373D6BcB1ca3D08FEeB78a2F80727B29</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Poll ID: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Poll contract: 0x710FA420C3bE4bb0730265d6581BDda11087A901</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PollProcessorAndTallyer contract: 0x62C3204a98bbbd73C8fc3B8bfCDa467CB079dF47</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-sign-up">User: sign up<a href="#user-sign-up" class="hash-link" aria-label="Direct link to User: sign up" title="Direct link to User: sign up">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ETH_SK=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETH_PROVIDER=http://localhost:8545 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node ./build/index.js signup \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -x 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example output:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0xcae04f618a0b45896732632121248c312cbc68584519c1e43932b110da9078bc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">State index: 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-publish-message">User: publish message<a href="#user-publish-message" class="hash-link" aria-label="Direct link to User: publish message" title="Direct link to User: publish message">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ETH_SK=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETH_PROVIDER=http://localhost:8545 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js publish \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -p macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -sk macisk.2ae4f199bf3925a2407f7c775c9261f351ab861d8e9ecbb84622bdd3f6d41b08 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -x 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -i 1 -v 0 -w 9 -n 1 -o 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-merge-state-tree">Coordinator: merge state tree<a href="#coordinator-merge-state-tree" class="hash-link" aria-label="Direct link to Coordinator: merge state tree" title="Direct link to Coordinator: merge state tree">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ETH_SK=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETH_PROVIDER=http://localhost:8545 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js mergeSignups -x 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D -o 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-merge-message-tree">Coordinator: merge message tree<a href="#coordinator-merge-message-tree" class="hash-link" aria-label="Direct link to Coordinator: merge message tree" title="Direct link to Coordinator: merge message tree">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ETH_SK=0xc87509a1c067bbde78beb793e6fa76530b6382a4c0241e5e4a9ec0a0f44dc0d3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ETH_PROVIDER=http://localhost:8545 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js mergeMessages -x 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D -o 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-generate-maci-state-offchain">Coordinator: generate Maci state offchain<a href="#coordinator-generate-maci-state-offchain" class="hash-link" aria-label="Direct link to Coordinator: generate Maci state offchain" title="Direct link to Coordinator: generate Maci state offchain">​</a></h3>
<p>Example usage to generate the state locally from the smart contracts events:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js genLocalState \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id $1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --output localState.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --num-blocks-per-request 50</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-generate-proofs">Coordinator: generate proofs<a href="#coordinator-generate-proofs" class="hash-link" aria-label="Direct link to Coordinator: generate proofs" title="Direct link to Coordinator: generate proofs">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js genProofs -x 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -sk macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -f proofs.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -r ~/rapidsnark/build/prover \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -wp ./zkeys/ProcessMessages_10-2-1-2_test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -wt ./zkeys/TallyVotes_10-1-2_test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -zp ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -zt ./zkeys/TallyVotes_10-1-2_test.0.zkey \</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-generate-proofs-using-a-local-state-file">Coordinator: generate proofs using a local state file<a href="#coordinator-generate-proofs-using-a-local-state-file" class="hash-link" aria-label="Direct link to Coordinator: generate proofs using a local state file" title="Direct link to Coordinator: generate proofs using a local state file">​</a></h3>
<p>Example usage to generate the proofs locally from the local state file created with genLocalState:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> # Intel parameters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node/build.js genProofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id $1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --rapidsnark ~/rapidsnark/build/prover \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-witnessgen ./zkeys/ProcessMessages_&quot;$PROCESS_MESSAGES_PARAMS&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-witnessgen ./zkeys/TallyVotes_&quot;$TALLY_VOTES_PARAMS&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-zkey &quot;$ZKEYS_DIR&quot;/ProcessMessages_&quot;$PROCESS_MESSAGES_PARAMS&quot;.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-zkey &quot;$ZKEYS_DIR&quot;/TallyVotes_&quot;$TALLY_VOTES_PARAMS&quot;.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-file tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --output proofs/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-file localState.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-prove-on-chain">Coordinator: prove on chain<a href="#coordinator-prove-on-chain" class="hash-link" aria-label="Direct link to Coordinator: prove on chain" title="Direct link to Coordinator: prove on chain">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js proveOnChain \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -x 0x89962fa216d39fCcaaC11e1e462340d80ab6Cf4D \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -q 0x62C3204a98bbbd73C8fc3B8bfCDa467CB079dF47 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -f proofs/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="anyone-verify-tally">Anyone: verify tally<a href="#anyone-verify-tally" class="hash-link" aria-label="Direct link to Anyone: verify tally" title="Direct link to Anyone: verify tally">​</a></h3>
<p>Example usage:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js verify \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -x 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -o 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -t tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -q 0x62C3204a98bbbd73C8fc3B8bfCDa467CB079dF47</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="demonstration">Demonstration<a href="#demonstration" class="hash-link" aria-label="Direct link to Demonstration" title="Direct link to Demonstration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario">Scenario:<a href="#scenario" class="hash-link" aria-label="Direct link to Scenario:" title="Direct link to Scenario:">​</a></h3>
<ol>
<li>Alice votes for Party A</li>
<li>Alice changes her key</li>
<li>Eve tries to bribe Alice to change her vote to Party B</li>
<li>Alice submits an invalid vote for Party B</li>
<li>The coordinator processes the votes, computes, and verifies the final tally</li>
<li>The expected result is: Party A has some votes and Party B has 0 votes.</li>
</ol>
<p>Implication: Alice&#x27;s invalid vote was not counted, and Eve had no way to tell.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="examples-of-serialized-public-and-private-keys">Examples of serialized public and private keys:<a href="#examples-of-serialized-public-and-private-keys" class="hash-link" aria-label="Direct link to Examples of serialized public and private keys:" title="Direct link to Examples of serialized public and private keys:">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Coordinator:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Private key: macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Public key:  macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Alice:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Private key: macisk.fd7aa614ec4a82716ffc219c24fd7e7b52a2b63b5afb17e81c22fe21515539c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Public key:  macipk.3e7bb2d7f0a1b7e980f1b6f363d1e3b7a12b9ae354c2cd60a9cfa9fd12917391</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-deploy-vkregistry-1">Coordinator: Deploy VkRegistry<a href="#coordinator-deploy-vkregistry-1" class="hash-link" aria-label="Direct link to Coordinator: Deploy VkRegistry" title="Direct link to Coordinator: Deploy VkRegistry">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js deployVkRegistry</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">VkRegistry: 0x8CdaF0CD259887258Bc13a92C0a6dA92698644C0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-set-verifying-keys-1">Coordinator: Set verifying keys<a href="#coordinator-set-verifying-keys-1" class="hash-link" aria-label="Direct link to Coordinator: Set verifying keys" title="Direct link to Coordinator: Set verifying keys">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js setVerifyingKeys \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vk_registry 0x8CdaF0CD259887258Bc13a92C0a6dA92698644C0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-tree-depth 10 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --int-state-tree-depth 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --msg-tree-depth 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vote-option-tree-depth 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --msg-batch-depth 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-messages-zkey ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-votes-zkey ./zkeys/TallyVotes_10-1-2_test.0.zkey</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Setting verifying keys...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0x16236fe5e124f3d0c33ddf20a37ceba9730a659630258a1e858b3e335e057b8e</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-create-maci-instance-1">Coordinator: Create MACI instance<a href="#coordinator-create-maci-instance-1" class="hash-link" aria-label="Direct link to Coordinator: Create MACI instance" title="Direct link to Coordinator: Create MACI instance">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js create \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vk-registry 0x8CdaF0CD259887258Bc13a92C0a6dA92698644C0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Deploying InitialVoiceCreditProxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploying Poseidon contracts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linking Poseidon libraries to MACI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linking Poseidon libraries to PollFactory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linking Poseidon libraries to MessageAqFactory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Deploying MACI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transferring PollFactory ownership to MACI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transferring MessageAqFactory ownership to PollFactory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Initialising MACI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MACI: 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-deploy-poll-1">Coordinator: Deploy poll<a href="#coordinator-deploy-poll-1" class="hash-link" aria-label="Direct link to Coordinator: Deploy poll" title="Direct link to Coordinator: Deploy poll">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node ./build/index.js deployPoll \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --maci-address 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --pubkey macipk.c974f4f168b79727ac98bfd53a65ea0b4e45dc2552fe73df9f8b51ebb0930330 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --duration 1000 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --max-messages 25 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --max-vote-options 25 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --int-state-tree-depth 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --msg-tree-depth 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --msg_batch_depth 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vote-option-tree-depth 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Verifier: 0x0d8cc4b8d15D4c3eF1d70af0071376fb26B5669b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Poll ID: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Poll contract: 0x08e8f54262de52fe7Dfd0Bc0C9Ea87689d70e985</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PollProcessorAndTallyer contract: 0xEcFcaB0A285d3380E488A39B4BB21e777f8A4EaC</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alice-sign-up">Alice: sign up<a href="#alice-sign-up" class="hash-link" aria-label="Direct link to Alice: sign up" title="Direct link to Alice: sign up">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node ./build/index.js signup \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --pubkey macipk.3e7bb2d7f0a1b7e980f1b6f363d1e3b7a12b9ae354c2cd60a9cfa9fd12917391 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --contract 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0xcdff1e0cd3021cdc3ba2c65cfd74bac3715c32efdd2052c0e8f3a677a81a758b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">State index: 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alice-votes-for-party-a-option-index-0">Alice: votes for Party A (option index 0)<a href="#alice-votes-for-party-a-option-index-0" class="hash-link" aria-label="Direct link to Alice: votes for Party A (option index 0)" title="Direct link to Alice: votes for Party A (option index 0)">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js publish \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --pubkey macipk.3e7bb2d7f0a1b7e980f1b6f363d1e3b7a12b9ae354c2cd60a9cfa9fd12917391 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.fd7aa614ec4a82716ffc219c24fd7e7b52a2b63b5afb17e81c22fe21515539c \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --contract 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-index 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vote-option-index 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --new-vote-weight 9 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --nonce 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0xc0964069834b171bb698ffc61e31e1be456c740ff1967ccad7d8cd8ed362e545</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ephemeral private key: macisk.1bf4bba7086c213606bb4a775b1ceaa4c2e7119c329748e675375f0d79c900dc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="alice-submits-an-invalid-vote-for-party-b-option-index-1-with-different-public-key">Alice: submits an invalid vote for Party B (option index 1) with different public key<a href="#alice-submits-an-invalid-vote-for-party-b-option-index-1-with-different-public-key" class="hash-link" aria-label="Direct link to Alice: submits an invalid vote for Party B (option index 1) with different public key" title="Direct link to Alice: submits an invalid vote for Party B (option index 1) with different public key">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js publish \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --pubkey macipk.d5788ea6ccf1ec295df99aaef859031fe7bd359e7e03acb80eb6e8a192f2ce19 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.fd7aa614ec4a82716ffc219c24fd7e7b52a2b63b5afb17e81c22fe21515539c \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --contract 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --state-index 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --vote-option-index 1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --new-vote-weight 9 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --nonce 2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0xc13b97e23b387d8c160e0f8b1bfb33dc0ff4441fe63a37f0fc3ec84a0cfa0600</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ephemeral private key: macisk.5bc9f217a29c5defad1ca9be3d649add1eca30037589527476e8335b24cf75b</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Time Travel</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build timeTravel -s 1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-merge-state-tree-1">Coordinator: merge state tree<a href="#coordinator-merge-state-tree-1" class="hash-link" aria-label="Direct link to Coordinator: merge state tree" title="Direct link to Coordinator: merge state tree">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js mergeSignups \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --contract 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Merging state subroots 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Executed mergeMaciStateAqSubRoots(); gas used: 723525</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0x14621b208fdadbf277edf80b393f1a9694099ae9676903e148fa485eecfadd4b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">All state subtrees have been merged.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Merging subroots to a main state root...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Executed mergeStateAq(); gas used: 1015876</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0xf2903b1c3c83b87c551a71f29e07762b464691ca58b0c6849b2f9b8f5783011f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The state tree has been merged.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-merge-message-tree-1">Coordinator: merge message tree<a href="#coordinator-merge-message-tree-1" class="hash-link" aria-label="Direct link to Coordinator: merge message tree" title="Direct link to Coordinator: merge message tree">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js mergeMessages \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --contract 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Merging message subroots 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Executed mergeMaciStateAqSubRoots(); gas used: 604387</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0xe0c0306b80febe1f6947b6ccbefabef38d01abce0b7611f49ce1cc7e20f196a5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">All message subtrees have been merged.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Merging subroots to a main message root...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Executed mergeMessageAq(); gas used: 174376</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0x424581f08d5f8e9f4fd63b083f9446cc2bff3b8e4b67ebc834076d6e9c34ec20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The message tree has been merged.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-generate-proofs-1">Coordinator: generate proofs<a href="#coordinator-generate-proofs-1" class="hash-link" aria-label="Direct link to Coordinator: generate proofs" title="Direct link to Coordinator: generate proofs">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js genProofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --contract 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --privkey macisk.49953af3585856f539d194b46c82f4ed54ec508fb9b882940cbe68bbc57e59e \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-file tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --output proofs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --rapidsnark ~/rapidsnark/build/prover \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-witnessgen ./zkeys/ProcessMessages_10-2-1-2_test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-witnessgen ./zkeys/TallyVotes_10-1-2_test \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --process-zkey ./zkeys/ProcessMessages_10-2-1-2_test.0.zkey \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-zkey ./zkeys/TallyVotes_10-1-2_test.0.zkey</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fromBlock = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generating proofs of message processing...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Generating proofs of vote tallying...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="coordinator-prove-on-chain-1">Coordinator: prove on chain<a href="#coordinator-prove-on-chain-1" class="hash-link" aria-label="Direct link to Coordinator: prove on chain" title="Direct link to Coordinator: prove on chain">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js proveOnChain \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --contract 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --ppt 0xEcFcaB0A285d3380E488A39B4BB21e777f8A4EaC \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --proof-dir proofs/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Submitting proofs of message processing...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0x59388e69899612390ef22de235629e9355e14f888bb330b46511cc06d8f2035d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">All message processing proofs have been submitted.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Submitting proofs of vote tallying...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Progress: 1 / 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction hash: 0xc90e3bd0618def86b709c995485271f806c60701a3f4246903498f27346b9f5e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">All vote tallying proofs have been submitted.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="anyone-verify">Anyone: verify<a href="#anyone-verify" class="hash-link" aria-label="Direct link to Anyone: verify" title="Direct link to Anyone: verify">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node build/index.js verify \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --contract 0xf204a4Ef082f5c04bB89F7D5E6568B796096735a \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --poll-id 0 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --tally-file tally.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --ppt 0xEcFcaB0A285d3380E488A39B4BB21e777f8A4EaC</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  provider: &#x27;http://localhost:8545&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  maci: &#x27;0xf204a4Ef082f5c04bB89F7D5E6568B796096735a&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pollId: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  newTallyCommitment: &#x27;0x29b47e79c10709047ba9788580c2dc8528f003eab42d30670df78a47b121aa6c&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  results: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tally: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;9&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salt: &#x27;0x132065c8ad3968008aeb7c114a04de228fa5b3618743ad00f64ad3f773a2e4d2&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  totalSpentVoiceCredits: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spent: &#x27;81&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salt: &#x27;0x2940f93e085350a04f6ff85e1ebffbc391fc3498f1cb41ab47f8899dc9c6efc6&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  perVOSpentVoiceCredits: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tally: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;81&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;0&#x27;,  &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;0&#x27;,  &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;0&#x27;,  &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;, &#x27;0&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salt: &#x27;0x2db5c3d6b015f8e2ea1cf7ffed7a44af0db8a8c09a5077415c076b6ebcee0571&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/privacy-scaling-explorations/maci/edit/dev/website/versioned_docs/version-v1.x/cli.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/primitives"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Primitives</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/contracts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Smart Contracts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#subcommands" class="table-of-contents__link toc-highlight">Subcommands</a></li><li><a href="#public-and-private-key-format" class="table-of-contents__link toc-highlight">Public and private key format</a><ul><li><a href="#coordinator-deploy-vkregistry" class="table-of-contents__link toc-highlight">Coordinator: Deploy VkRegistry</a></li><li><a href="#coordinator-set-verifying-keys" class="table-of-contents__link toc-highlight">Coordinator: Set verifying keys</a></li><li><a href="#coordinator-create-maci-instance" class="table-of-contents__link toc-highlight">Coordinator: Create MACI instance</a></li><li><a href="#coordinator-deploy-poll" class="table-of-contents__link toc-highlight">Coordinator: Deploy poll</a></li><li><a href="#user-sign-up" class="table-of-contents__link toc-highlight">User: sign up</a></li><li><a href="#user-publish-message" class="table-of-contents__link toc-highlight">User: publish message</a></li><li><a href="#coordinator-merge-state-tree" class="table-of-contents__link toc-highlight">Coordinator: merge state tree</a></li><li><a href="#coordinator-merge-message-tree" class="table-of-contents__link toc-highlight">Coordinator: merge message tree</a></li><li><a href="#coordinator-generate-maci-state-offchain" class="table-of-contents__link toc-highlight">Coordinator: generate Maci state offchain</a></li><li><a href="#coordinator-generate-proofs" class="table-of-contents__link toc-highlight">Coordinator: generate proofs</a></li><li><a href="#coordinator-generate-proofs-using-a-local-state-file" class="table-of-contents__link toc-highlight">Coordinator: generate proofs using a local state file</a></li><li><a href="#coordinator-prove-on-chain" class="table-of-contents__link toc-highlight">Coordinator: prove on chain</a></li><li><a href="#anyone-verify-tally" class="table-of-contents__link toc-highlight">Anyone: verify tally</a></li></ul></li><li><a href="#demonstration" class="table-of-contents__link toc-highlight">Demonstration</a><ul><li><a href="#scenario" class="table-of-contents__link toc-highlight">Scenario:</a></li><li><a href="#examples-of-serialized-public-and-private-keys" class="table-of-contents__link toc-highlight">Examples of serialized public and private keys:</a></li><li><a href="#coordinator-deploy-vkregistry-1" class="table-of-contents__link toc-highlight">Coordinator: Deploy VkRegistry</a></li><li><a href="#coordinator-set-verifying-keys-1" class="table-of-contents__link toc-highlight">Coordinator: Set verifying keys</a></li><li><a href="#coordinator-create-maci-instance-1" class="table-of-contents__link toc-highlight">Coordinator: Create MACI instance</a></li><li><a href="#coordinator-deploy-poll-1" class="table-of-contents__link toc-highlight">Coordinator: Deploy poll</a></li><li><a href="#alice-sign-up" class="table-of-contents__link toc-highlight">Alice: sign up</a></li><li><a href="#alice-votes-for-party-a-option-index-0" class="table-of-contents__link toc-highlight">Alice: votes for Party A (option index 0)</a></li><li><a href="#alice-submits-an-invalid-vote-for-party-b-option-index-1-with-different-public-key" class="table-of-contents__link toc-highlight">Alice: submits an invalid vote for Party B (option index 1) with different public key</a></li><li><a href="#coordinator-merge-state-tree-1" class="table-of-contents__link toc-highlight">Coordinator: merge state tree</a></li><li><a href="#coordinator-merge-message-tree-1" class="table-of-contents__link toc-highlight">Coordinator: merge message tree</a></li><li><a href="#coordinator-generate-proofs-1" class="table-of-contents__link toc-highlight">Coordinator: generate proofs</a></li><li><a href="#coordinator-prove-on-chain-1" class="table-of-contents__link toc-highlight">Coordinator: prove on chain</a></li><li><a href="#anyone-verify" class="table-of-contents__link toc-highlight">Anyone: verify</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Documentation</a></li><li class="footer__item"><a href="https://github.com/privacy-scaling-explorations/maci" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/sF5CT5rzrR" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/zkMACI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Privacy and Scaling Explorations</div></div></div></footer></div>
</body>
</html>